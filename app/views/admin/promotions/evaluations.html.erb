<%= line_chart [
    :knowledge_acquired,
    :technical_skills_acquired,
    :soft_skills_acquired,
    :quality
  ].map { |key|
    {
      name: key.to_s.titleize,
      data: @promotion.courses.map { |course|
        [
          "#{course.name} ##{course.teach_project_id}",
          course.send(key)
        ]
      }
    }
  },
  min: 0,
  max: 10,
  legend: 'bottom',
  height: '600px'
%>

<h2 class="mt-5">Nombre d'évaluations (<%= @promotion.evaluations.count %> au total)</h2>
<%= column_chart @promotion.courses.map { |course|
    [
      "#{course.name} ##{course.teach_project_id}",
      course.evaluations.count
    ]
   }
%>

<h2 class="mt-5">Détails</h2>
<table class="table">
  <thead>
    <tr>
      <th>Projet</th>
      <th class="small">Evaluations</th>
      <th class="small">Connaissances acquises</th>
      <th class="small">Compétences techniques acquises</th>
      <th class="small">Compétences relationnelles acquises (soft skills)</th>
      <th class="small">Qualité globale du projet</th>
    </tr>
  </thead>
  <tbody>
    <% @promotion.courses.each do |course| %>
      <tr>
        <td><%= link_to course, [:admin, course] %></td>
        <td><%= course.evaluations.count %></td>
        <td><%= course.knowledge_acquired %></td>
        <td><%= course.technical_skills_acquired %></td>
        <td><%= course.soft_skills_acquired %></td>
        <td><%= course.quality %></td>
      </tr>
    <% end %>
  </tbody>
</table
><p>Les évaluations sont présentées sur 10.</p>
